<h2 mat-dialog-title>{{ data.type | titlecase }} User</h2>
<div class="invalid-feedback">{{ errorMessage }}</div>
<mat-dialog-content class="mat-typography">
  <div mat-dialog-content>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" *ngIf="!loading">
      <table class="table">
        <tr>
          <td>First Name</td>
          <td>
            <input class="form-control" formControlName="firstName" />
            <div
              *ngIf="submitted && f.firstName.errors"
              class="invalid-feedback"
            >
              Please Enter First Name
            </div>
          </td>
        </tr>
        <tr>
          <td>Last Name</td>
          <td>
            <input class="form-control" formControlName="lastName" />
            <div
              *ngIf="submitted && f.lastName.errors"
              class="invalid-feedback"
            >
              Please Enter Last Name
            </div>
          </td>
        </tr>
        <tr>
          <td>Email</td>
          <td>
            <input class="form-control" formControlName="email" />
            <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
              <div *ngIf="f.email.errors.required">Please Enter Email</div>
              <div *ngIf="f.email.errors.email">Please Enter Valid Email</div>
            </div>
          </td>
        </tr>
        <tr>
          <td>Phone</td>
          <td>
            <input class="form-control" formControlName="phone" />
            <div *ngIf="submitted && f.phone.errors" class="invalid-feedback">
              <div *ngIf="f.phone.errors.required">Please Enter Phone No.</div>
              <div *ngIf="f.phone.errors.minlength">
                Enter Valid Phone Number.
              </div>
            </div>
          </td>
        </tr>
        <tr>
          <td>UserName</td>
          <td>
            <input class="form-control" formControlName="userName" />
            <div
              *ngIf="submitted && f.userName.errors"
              class="invalid-feedback"
            >
              Please Enter Username
            </div>
          </td>
        </tr>
        <tr>
          <td>User Type</td>
          <td>
            <!-- (click)="changeFieldsChange()" -->
            <!-- <input
              type="radio"
              name="isMerchant"
              [(ngModel)]="isMerchant"
              formControlName="isMerchant"
              value="true"
            />
            Yes
            <input
              type="radio"
              name="isMerchant"
              [(ngModel)]="isMerchant"
              formControlName="isMerchant"
              value="false"
            />
            No -->
            <select
              name="userType"
              [(ngModel)]="userType"
              formControlName="userType"
              class="form-control"
            >
              <!-- <option value="">--Please Select--</option> -->
              <option value="Admin">Admin</option>
              <option value="User">User</option>
              <option value="Merchant">Merchant</option>
            </select>
            <div
              *ngIf="submitted && f.userType.errors"
              class="invalid-feedback"
            >
              Please Select User Type
            </div>
          </td>
        </tr>
        <!-- {{f.isMerchant.value}} -->
        <tbody *ngIf="f.userType.value == 'Merchant'">
          <tr *ngIf="showBankingError">
            <td colspan="2">
              <div class="invalid-feedback">{{ showBankingError }}</div>
            </td>
          </tr>
          <tr>
            <td>Bank Routing No.</td>
            <td>
              <input
                type="text"
                class="form-control"
                name="bankRoutingNo"
                formControlName="bankRoutingNo"
              />
            </td>
          </tr>
          <tr>
            <td>Bank Account No.</td>
            <td>
              <input
                type="text"
                class="form-control"
                name="bankAccountNo"
                formControlName="bankAccountNo"
              />
            </td>
          </tr>
          <tr>
            <td>Bank Account Type.</td>
            <td>
              <input
                type="radio"
                name="bankAccountType"
                formControlName="bankAccountType"
                value="checking"
              />
              Checking &nbsp;&nbsp;
              <input
                type="radio"
                name="bankAccountType"
                formControlName="bankAccountType"
                value="saving"
              />
              Saving
            </td>
          </tr>
        </tbody>
        <tr>
          <td>Address</td>
          <td>
            <input
              type="text"
              google-place
              type="text"
              class="form-control"
              placeholder="Type to search.."
              formControlName="address"
            />

            <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
              Please Add user address
            </div>
          </td>
        </tr>
        <tr *ngIf="data.type == 'add'">
          <td>Password</td>
          <td>
            <input
              type="password"
              class="form-control"
              formControlName="password"
            />
            <div
              *ngIf="submitted && f.password.errors"
              class="invalid-feedback"
            >
              <!-- Please Enter Password -->
              <div *ngIf="f.password.errors.minlength">
                Password Length Should be at least 6.
              </div>
              <div *ngIf="f.password.errors.required">
                Please Enter Password
              </div>
            </div>
          </td>
        </tr>
        <tr *ngIf="data.type == 'add'">
          <td>Confirm Password</td>
          <td>
            <input
              type="password"
              class="form-control"
              formControlName="cpassword"
            />
            <div
              *ngIf="submitted && f.cpassword.errors"
              class="invalid-feedback"
            >
              Please Enter Confirm Password
            </div>
            <div
              *ngIf="submitted && !passwordmissmatch"
              class="invalid-feedback"
            >
              Password Missmatch!
            </div>
          </td>
        </tr>
      </table>
    </form>
    <div *ngIf="loading"><i class="fa fa-refresh fa-spin icon_size"></i></div>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close class="btn btn-primary">Cancel</button>
  &nbsp;
  <button
    mat-button
    type="submit"
    (click)="onSubmit()"
    cdkFocusInitial
    class="btn btn-primary"
  >
    Save
  </button>
</mat-dialog-actions>
